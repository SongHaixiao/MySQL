# SQL 注入

## 黑客常说的 SQL 注入是什么？

> **SQL注入（SQL Injection）是指应用程序对用户输入数据的合法性没有判断、没有过滤，攻击者可以在应用程序中通过表单提交特殊的字符串，该特殊字符串会改变SQL的运行结果，从而在管理员毫不知情的情况下实现非法操作，以此来实现欺骗数据库执行非授权的任意查询。**

## SQL 注入特点

### 隐藏性

SQL注入语句一般都嵌入在普通的HTTP请求中，很难与正常语句区分开，SQL注入也有很多变种。

### 广泛性

任何一个基于SQL语言的数据库都可能受到SQL注入攻击。

很多开发人员都为了省事不对表单参数进行校验。

### 操作简单

互联网上有很多SQL注入工具，简单易懂，攻击过程简单，不需要太多专业知识

### 危害大

攻击者通过SQL注入能够获取到更多数据，如管理员密码、整个系统的用户数据、他人的隐私数据、完整的数据库。



## 如何进行 SQL 注入

<img src="Resources/90.jpg" style="zoom:150%;" />

- 说明：
  - 正常情况下，用户只有输入与用户名相对应的密码才可以登录，即 admin - 123456, test - 123456。
  - 但是通过 SQL 注入，任意输入一个 用户名，密码通过写成 **' or '1' = '1** 就可以获取用户信息，而登陆。而，**' or '1' = '1 ** 就是数据库 password 中 单引号之间的密码内容（红框密码部分）。

- 示例：

  - 建表并插入数据

    <img src="Resources/91.jpg" style="zoom:100%;" />

  - 尝试登陆，登陆成功，则返回数据；不成功，则不会返回数据。

    <img src="Resources/92.jpg" style="zoom:100%;" />

  - 尝试SQL 注入，假定输入的用户名为 xyz, 密码为 ' or '1'='1,结果发现所有的数据都会显示出来

    <img src="Resources/93.jpg" style="zoom:100%;" />

